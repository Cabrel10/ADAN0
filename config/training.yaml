# Training configuration and reward shaping
# Generated by configuration migration on 2025-08-22T08:08:09.534372

regularization:
  batch_norm_epsilon: 1e-5
  batch_norm_momentum: 0.99
  dropout_rate: 0.3
  gradient_clip: 1.0
  use_batch_norm: true
  weight_decay: 1e-5
reward_shaping:
  commission_pct: 0.001
  commission_penalty: 1.5
  commission_reward: -0.1
  dbe:
    cash_utilization_impact: 0.5
    drawdown_impact: 1.2
    initial_risk: 0.3
    max_risk: 1.0
    min_risk: 0.1
    winrate_decay: 0.9
  drawdown_penalty: 0.1
  logging:
    disable_existing_loggers: false
    formatters:
      detailed:
        datefmt: '%Y-%m-%d %H:%M:%S'
        format: '%(asctime)s - %(name)-25s - %(levelname)-8s - %(filename)s:%(lineno)d
          - %(message)s'
      json:
        class: pythonjsonlogger.jsonlogger.JsonFormatter
        datefmt: '%Y-%m-%d %H:%M:%S'
        format: '%(asctime)s %(name)s %(levelname)s %(filename)s %(lineno)s %(message)s'
      standard:
        datefmt: '%Y-%m-%d %H:%M:%S'
        format: '%(asctime)s - %(name)-25s - %(levelname)-8s - %(message)s'
    handlers:
      console:
        class: logging.StreamHandler
        formatter: standard
        level: DEBUG
        stream: ext://sys.stdout
      error_file_handler:
        backupCount: 10
        class: logging.handlers.RotatingFileHandler
        encoding: utf-8
        filename: logs/error.log
        formatter: detailed
        level: ERROR
        maxBytes: 10485760
      file_handler:
        backupCount: 30
        class: logging.handlers.TimedRotatingFileHandler
        encoding: utf-8
        filename: logs/adan.log
        formatter: detailed
        level: DEBUG
        utc: true
        when: midnight
      json_file_handler:
        backupCount: 10
        class: logging.handlers.RotatingFileHandler
        encoding: utf-8
        filename: logs/adan_structured.log
        formatter: json
        level: INFO
        maxBytes: 10485760
    log_dirs:
      base: logs
      data_quality: logs/data_quality
      dbe_replay: logs/dbe_replay
      memory: logs/memory
      metrics: logs/metrics
      models: logs/models
      performance: logs/performance
    loggers:
      ? ''
      : handlers:
        - console
        - file_handler
        - error_file_handler
        level: WARNING
        propagate: false
      adan:
        handlers:
        - console
        - file_handler
        - json_file_handler
        level: DEBUG
        propagate: false
      pyarrow:
        handlers:
        - file_handler
        level: WARNING
        propagate: false
      stable_baselines3:
        handlers:
        - file_handler
        level: INFO
        propagate: false
      tensorflow:
        handlers:
        - file_handler
        level: WARNING
        propagate: false
      urllib3:
        handlers:
        - file_handler
        level: WARNING
        propagate: false
    root:
      handlers:
      - console
      - file_handler
      - error_file_handler
      level: WARNING
      propagate: false
    version: 1
  max_order_size: 0.01
  max_position_size: 0.1
  min_order_value_usdt: 10
  min_profit_multiplier: 3.0
  position_reward: 1.0
  profit_factor_bonus: 0.5
  risk_factor: 1.0
  risk_reward_ratio: 2.0
  sharpe_factor: 0.5
  slippage_pct: 0.001
  slippage_reward: -0.1
  tier_rewards:
    checkpoint_dir: /home/morningstar/Documents/trading/bot/models/rl_agents/checkpoints
    checkpoint_on_promotion: true
    demotion_penalty: -20.0
    min_episodes_for_promotion: 5
    min_profit_for_promotion: 0.1
    promotion_bonus: 50.0
    tier_performance_multipliers:
    - multiplier: 1.0
      tier: Micro Capital
    - multiplier: 1.2
      tier: Small Capital
    - multiplier: 1.5
      tier: Medium Capital
    - multiplier: 2.0
      tier: High Capital
    - multiplier: 2.5
      tier: Enterprise
  volatility_factor: 1.0
training:
  batch_size: 64
  checkpointing:
    enabled: true
    model_name: adan_model
    save_freq: 50000
    save_path: /home/morningstar/Documents/trading/bot/models/rl_agents/adan_model
  num_instances: 4
  save_freq: 5000
  timesteps_per_instance: 1250000
