# RL agent configuration and hyperparameters
# Generated by configuration migration on 2025-08-22T08:08:09.519387

agent:
  algorithm: PPO
  batch_size: 8192
  buffer_size: 100000
  checkpoint_freq: 5000
  clip_range: 0.1
  clip_range_vf: 0.1
  custom_log_freq_rollouts: 10
  deterministic_inference: true
  ent_coef: 0.01
  ent_coef_schedule:
    end: 0.0001
    start: 0.01
    type: linear
  eval_episodes: 10
  eval_freq: 2500
  features_extractor_kwargs:
    activation: leaky_relu
    attention:
      dropout: 0.1
      num_heads: 4
      use_relative_positions: true
    cnn_configs:
      1h:
        activation: leaky_relu
        batch_norm: true
        channel_groups:
          indicators:
            indices:
            - 5
            - 6
            - 7
            - 8
            - 9
            - 10
            kernel_size:
            - 1
            - 3
            out_channels: 32
            padding: same
          price:
            indices:
            - 0
            - 1
            - 2
            - 3
            kernel_size:
            - 1
            - 3
            out_channels: 32
            padding: same
          volume:
            indices:
            - 4
            kernel_size:
            - 1
            - 1
            out_channels: 16
            padding: same
        conv_blocks:
        - activation: leaky_relu
          batch_norm: true
          dropout: 0.1
          filters: 32
          kernel_size:
          - 1
          - 3
          padding: same
          se_block: true
          type: grouped
        - activation: leaky_relu
          batch_norm: true
          dropout: 0.2
          filters: 64
          kernel_sizes:
          - - 1
            - 3
          - - 1
            - 5
          pool_size:
          - 1
          - 2
          residual: true
          type: inception
        - dropout: 0.1
          key_dim: 64
          num_heads: 4
          type: attention
        final_dropout: 0.25
        input_shape:
        - 3
        - 100
        - 4
        temporal_attention_heads: 4
        use_channel_attention: true
        use_temporal_attention: true
      4h:
        activation: leaky_relu
        batch_norm: true
        channel_groups:
          indicators:
            indices:
            - 5
            - 6
            - 7
            - 8
            - 9
            kernel_size:
            - 1
            - 3
            out_channels: 32
            padding: same
          price:
            indices:
            - 0
            - 1
            - 2
            - 3
            kernel_size:
            - 1
            - 3
            out_channels: 32
            padding: same
          volume:
            indices:
            - 4
            kernel_size:
            - 1
            - 1
            out_channels: 16
            padding: same
        conv_blocks:
        - activation: leaky_relu
          batch_norm: true
          dropout: 0.1
          filters: 32
          kernel_size:
          - 1
          - 3
          padding: same
          se_block: true
          type: grouped
        - activation: leaky_relu
          batch_norm: true
          dropout: 0.2
          filters: 64
          kernel_sizes:
          - - 1
            - 3
          - - 1
            - 5
          pool_size:
          - 1
          - 2
          residual: true
          type: inception
        final_dropout: 0.25
        input_shape:
        - 3
        - 10
        - 4
        temporal_attention_heads: 4
        use_channel_attention: true
        use_temporal_attention: false
      5m:
        activation: leaky_relu
        batch_norm: true
        channel_groups:
          indicators:
            indices:
            - 5
            - 6
            - 7
            - 8
            - 9
            - 10
            - 11
            - 12
            - 13
            - 14
            kernel_size:
            - 1
            - 3
            out_channels: 32
            padding: same
          price:
            indices:
            - 0
            - 1
            - 2
            - 3
            kernel_size:
            - 1
            - 3
            out_channels: 32
            padding: same
          volume:
            indices:
            - 4
            kernel_size:
            - 1
            - 1
            out_channels: 16
            padding: same
        conv_blocks:
        - activation: leaky_relu
          batch_norm: true
          dropout: 0.1
          filters: 32
          kernel_size:
          - 1
          - 3
          padding: same
          se_block: true
          type: grouped
        - activation: leaky_relu
          batch_norm: true
          dropout: 0.2
          filters: 64
          kernel_sizes:
          - - 1
            - 3
          - - 1
            - 5
          - - 1
            - 7
          pool_size:
          - 1
          - 2
          residual: true
          type: inception
        - dropout: 0.1
          key_dim: 64
          num_heads: 4
          type: attention
        final_dropout: 0.25
        input_shape:
        - 3
        - 20
        - 5
    dropout: 0.2
    fc_layers:
    - 256
    - 128
    initialization:
      bias: zeros
      conv: he_normal
      dense: glorot_uniform
    normalization:
      use_batch_norm: true
      use_layer_norm: false
    policy_kwargs:
      activation_fn: leaky_relu
      batch_norm: true
      batch_size: 8192
      clip_range: 'lambda f: f * 0.2'
      clip_range_vf: 0.2
      dropout: 0.1
      ent_coef: 0.01
      ent_coef_annealing: true
      exploration_noise: 0.1
      exploration_noise_type: normal
      exploration_strategy: gaussian
      gae_lambda: 0.95
      gamma: 0.99
      l2_penalty: 0.0
      learning_rate: 0.0003
      n_epochs: 4
      n_steps: 4096
      net_arch:
        pi:
        - 64
        - 32
        shared:
        - 256
        - 128
        vf:
        - 64
        - 32
      nminibatches: 4
      normalize_observations: false
      normalize_rewards: false
      ou_params:
        mu: 0.0
        sigma: 0.2
        theta: 0.15
      random_exploration: 10000
      target_update_freq: 1000
      target_update_interval: 1
    ppo:
      batch_size: 8192
      clip_range: 0.1
      clip_range_vf: null
      ent_coef: 0.01
      gae_lambda: 0.95
      max_grad_norm: 0.5
      n_epochs: 4
      n_steps: 4096
      normalize_advantage: true
      sde_sample_freq: -1
      use_reparameterization: false
      use_sde: false
      vf_coef: 0.5
  gae_lambda: 0.95
  gamma: 0.995
  learning_rate: 0.0003
  learning_rate_schedule:
    end: 0.000001
    start: 0.0003
    type: linear
  max_grad_norm: 0.5
  n_envs: 4
  n_epochs: 4
  n_steps: 4096
  policy: MultiInputPolicy
  seed: 42
  target_kl: 0.03
  verbose: 1
  vf_coef: 0.5
  window_size: 100
